#{selenium 'Test the template tricks'}

	open('@{Application.dynamicClassBinding()}')
	assertTextPresent('null-null - yop-null - kiki-coco')
	
	open('@{Application.dynamicClassBinding(true)}')
	assertTextPresent('Template execution error')
	assertTextPresent('In /app/views/Application/dynamicClassBinding.html (around line 4)')
	assertTextPresent('Could not find matching constructor for: models.Bottle')
	assertTextPresent('(java.lang.Integer, java.lang.String)')
	
	open('/')
	
	// Check #render
	assertTextPresent('Inner template with:')
	assertTextPresent('b=9')
	assertTextPresent('a=Hello')
	
	// Check static access resolution (and conflicts)
	open('/mapping.mappingrules/index')
	assertTextPresent('--/mapping.mappingrules/index--')
	assertTextPresent('__KIKI__')

#{/selenium}